console.log("hi");const URL_PREFIX="http://localhost:3000/";let page=1;const getMonsters=e=>{console.log("get monsters function"),fetch(URL_PREFIX+"monsters").then(e=>e.json()).then(e=>{document.querySelector("#monster-container").innerHTML="";for(let t=0;t<e.length;t++)console.log("monster",e[t]),createMonsterCard(e[t])})},createMonsterCard=e=>{let t=document.createElement("div"),n=document.createElement("h2"),o=document.createElement("h4"),r=document.createElement("p");n.innerHTML=`${e.name}`,o.innerHTML=`Age: ${e.age}`,r.innerHTML=`Bio: ${e.description}`,t.appendChild(n),t.appendChild(o),t.appendChild(r),document.querySelector("#monster-container").appendChild(t)},createMonsterForm=()=>{const e=document.createElement("form"),t=document.createElement("input"),n=document.createElement("input"),o=document.createElement("input"),r=document.createElement("button");e.id="monster-form",t.id="name",n.id="age",o.id="description",t.placeholder="name...",n.placeholder="age...",o.placeholder="description...",r.innerHTML="Create",e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(r),document.getElementById("create-monster").appendChild(e),addSubmitEventListener()},addSubmitEventListener=()=>{document.querySelector("#monster-form").addEventListener("submit",e=>{e.preventDefault(),console.log("submitted",getFormData()),postNewMonster(getFormData()),clearForm()})},getFormData=()=>{let e=document.querySelector("#name"),t=document.querySelector("#age"),n=document.querySelector("#description");return{name:e.value,age:parseFloat(t.value),description:n.value}},postNewMonster=e=>{getMonsters();let t={method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify(e)};fetch("http://localhost:3000/monsters",t).then(e=>e.json()).then(e=>{console.log("new monster",e),getMonsters()})},clearForm=()=>{document.querySelector("#monster-form").reset()},addNavListeners=()=>{let e=document.querySelector("#back"),t=document.querySelector("#forward");e.addEventListener("click",()=>{pageDown()}),t.addEventListener("click",()=>{pageUp()})},pageUp=()=>{page++,getMonsters()},pageDown=()=>{1<page?(page--,getMonsters()):alert("Aint no monsters here")},init=()=>{getMonsters(),createMonsterForm(),addNavListeners()};document.addEventListener("DOMContentLoaded",init);
